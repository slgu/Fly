func gen1(s, n1, n2) {
    print(s);
    ans = n1 + n2;
    print(ans);
    return ans;
}

func recv1(a) {
    print("1 recving...");
    ans = "1 recv: " + a;
    print(ans);
    print("1 recving done");
}

func gen2(s, a) {
    print(s);
    ans = a + " World";
    print(ans);
    return ans;
}

func recv2(a) {
    print("2 string recving...");
    ans = "2 string recv: " + a;
    print(ans);
    print("2 string recving done");
}

func recv3(a) {
    print("3 string recving...");
    ans = a;
    print(ans);
    print("3 string recving done");
}

func no_return_gen(s, a) {
    print(s);
    print(a);
}

func main() {
    /* function overloading */
    gen1("Sync: gen1", "Hello", " World");
    gen1("Sync: gen1", 1, 1);

    /* function overloading for fly */
    fly gen1("Fly: gen1", "Hello", " World");
    fly gen1("Fly: gen1", 2, 2);

    /* fly send signal of same type */
    s = fly gen1("Fly: gen1", "Hello", " World");
    register s recv1();

    /* fly using overloading function */
    s_int = fly gen1("Fly: gen1", 100, 200);
    register s_int recv3(); 

    /* signal reassigned to functions returning same type */
    s = fly gen2("Fly: gen2", "Hello");
    register s recv2();

    /* calling recv in sync fashion */
    recv2("Sync: recv2"); 

    /* flying a function which does not return anything */
    fly no_return_gen("Fly: no_return_gen","Hello World");

    while(true) {
    };

    return 0;
}
